# 微服务实战项目

## 🎯 项目概述

### 项目简介
这是一个基于Spring Cloud的微服务电商系统，包含用户服务、商品服务、订单服务、支付服务等核心模块。

### 技术栈
- **框架**：Spring Boot 2.7.x + Spring Cloud 2021.0.x
- **注册中心**：Nacos
- **配置中心**：Nacos Config
- **网关**：Spring Cloud Gateway
- **负载均衡**：Spring Cloud LoadBalancer
- **服务调用**：OpenFeign
- **熔断器**：Resilience4j
- **数据库**：MySQL + Redis
- **消息队列**：RabbitMQ

## 🏗️ 项目架构

### 整体架构
```
┌─────────────────────────────────────────────────────────────┐
│                       客户端                                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │   Web      │  │   Mobile    │  │   Admin     │        │
│  │  Client    │  │   Client    │  │   Client    │        │
│  └─────────────┘  └─────────────┘  └─────────────┘        │
└─────────────────────┬───────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────┐
│                    网关服务                                  │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐        │
│  │   路由      │  │   认证      │  │   限流      │        │
│  └─────────────┘  └─────────────┘  └─────────────┘        │
└─────────────────────┬───────────────────────────────────────┘
                      │
        ┌─────────────┼─────────────┐
        ▼             ▼             ▼
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│  用户服务   │ │  商品服务   │ │  订单服务   │
│ 端口:8081  │ │ 端口:8082  │ │ 端口:8083  │
└─────────────┘ └─────────────┘ └─────────────┘
        │             │             │
        └─────────────┼─────────────┘
                      │
                      ▼
┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│  支付服务   │ │  库存服务   │ │  消息服务   │
│ 端口:8084  │ │ 端口:8085  │ │ 端口:8086  │
└─────────────┘ └─────────────┘ └─────────────┘
```

### 服务说明
- **网关服务**：统一入口，路由转发，认证限流
- **用户服务**：用户管理，认证授权
- **商品服务**：商品管理，分类管理
- **订单服务**：订单处理，状态管理
- **支付服务**：支付处理，退款处理
- **库存服务**：库存管理，库存扣减
- **消息服务**：消息推送，通知管理

## 🚀 项目搭建

### 1. 项目结构
```
ecommerce-microservice/
├── pom.xml (父POM)
├── common/ (公共模块)
│   ├── pom.xml
│   └── src/
├── gateway/ (网关服务)
│   ├── pom.xml
│   └── src/
├── user-service/ (用户服务)
│   ├── pom.xml
│   └── src/
├── product-service/ (商品服务)
│   ├── pom.xml
│   └── src/
├── order-service/ (订单服务)
│   ├── pom.xml
│   └── src/
├── payment-service/ (支付服务)
│   ├── pom.xml
│   └── src/
├── inventory-service/ (库存服务)
│   ├── pom.xml
│   └── src/
└── message-service/ (消息服务)
    ├── pom.xml
    └── src/
```

### 2. 父POM配置
```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    
    <groupId>com.example</groupId>
    <artifactId>ecommerce-microservice</artifactId>
    <version>1.0.0</version>
    <packaging>pom</packaging>
    
    <modules>
        <module>common</module>
        <module>gateway</module>
        <module>user-service</module>
        <module>product-service</module>
        <module>order-service</module>
        <module>payment-service</module>
        <module>inventory-service</module>
        <module>message-service</module>
    </modules>
    
    <properties>
        <maven.compiler.source>8</maven.compiler.source>
        <maven.compiler.target>8</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <spring-boot.version>2.7.14</spring-boot.version>
        <spring-cloud.version>2021.0.8</spring-cloud.version>
        <spring-cloud-alibaba.version>2021.0.5.0</spring-cloud-alibaba.version>
    </properties>
    
    <dependencyManagement>
        <dependencies>
            <!-- Spring Boot 依赖管理 -->
            <dependency>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-dependencies</artifactId>
                <version>${spring-boot.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            
            <!-- Spring Cloud 依赖管理 -->
            <dependency>
                <groupId>org.springframework.cloud</groupId>
                <artifactId>spring-cloud-dependencies</artifactId>
                <version>${spring-cloud.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
            
            <!-- Spring Cloud Alibaba 依赖管理 -->
            <dependency>
                <groupId>com.alibaba.cloud</groupId>
                <artifactId>spring-cloud-alibaba-dependencies</artifactId>
                <version>${spring-cloud-alibaba.version}</version>
                <type>pom</type>
                <scope>import</scope>
            </dependency>
        </dependencies>
    </dependencyManagement>
</project>
```

### 3. 公共模块
```xml
<!-- common/pom.xml -->
<dependencies>
    <!-- Spring Boot Starter -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter</artifactId>
    </dependency>
    
    <!-- Spring Boot Web Starter -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- Spring Boot Validation -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-validation</artifactId>
    </dependency>
    
    <!-- Lombok -->
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
        <optional>true</optional>
    </dependency>
</dependencies>
```

## 💻 核心服务实现

### 1. 网关服务

#### 依赖配置
```xml
<!-- gateway/pom.xml -->
<dependencies>
    <!-- Spring Cloud Gateway -->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-gateway</artifactId>
    </dependency>
    
    <!-- Nacos服务发现 -->
    <dependency>
        <groupId>com.alibaba.cloud</groupId>
        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
    </dependency>
    
    <!-- Spring Boot Actuator -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-actuator</artifactId>
    </dependency>
</dependencies>
```

#### 配置文件
```yaml
# gateway/src/main/resources/application.yml
server:
  port: 8080

spring:
  application:
    name: gateway-service
  cloud:
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
      routes:
        # 用户服务路由
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/user/**
          filters:
            - StripPrefix=1
            - name: RequestRateLimiter
              args:
                redis-rate-limiter.replenishRate: 10
                redis-rate-limiter.burstCapacity: 20
                key-resolver: "#{@userKeyResolver}"
        
        # 商品服务路由
        - id: product-service
          uri: lb://product-service
          predicates:
            - Path=/product/**
          filters:
            - StripPrefix=1
        
        # 订单服务路由
        - id: order-service
          uri: lb://order-service
          predicates:
            - Path=/order/**
          filters:
            - StripPrefix=1
        
        # 支付服务路由
        - id: payment-service
          uri: lb://payment-service
          predicates:
            - Path=/payment/**
          filters:
            - StripPrefix=1

  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
        namespace: public
        group: DEFAULT_GROUP

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    gateway:
      enabled: true
```

#### 启动类
```java
// gateway/src/main/java/com/example/gateway/GatewayApplication.java
package com.example.gateway;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;

@SpringBootApplication
@EnableDiscoveryClient
public class GatewayApplication {
    
    public static void main(String[] args) {
        SpringApplication.run(GatewayApplication.class, args);
    }
}
```

### 2. 用户服务

#### 依赖配置
```xml
<!-- user-service/pom.xml -->
<dependencies>
    <!-- Spring Boot Web Starter -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- Nacos服务发现 -->
    <dependency>
        <groupId>com.alibaba.cloud</groupId>
        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
    </dependency>
    
    <!-- Nacos配置中心 -->
    <dependency>
        <groupId>com.alibaba.cloud</groupId>
        <artifactId>spring-cloud-starter-alibaba-nacos-config</artifactId>
    </dependency>
    
    <!-- Spring Boot Data JPA -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>
    
    <!-- MySQL驱动 -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
    </dependency>
    
    <!-- Spring Boot Actuator -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-actuator</artifactId>
    </dependency>
</dependencies>
```

#### 配置文件
```yaml
# user-service/src/main/resources/bootstrap.yml
spring:
  application:
    name: user-service
  cloud:
    nacos:
      config:
        server-addr: localhost:8848
        namespace: public
        group: DEFAULT_GROUP
        file-extension: yaml
        username: nacos
        password: nacos

# user-service/src/main/resources/application.yml
server:
  port: 8081

spring:
  profiles:
    active: dev
  datasource:
    url: jdbc:mysql://localhost:3306/user_db?useUnicode=true&characterEncoding=utf8&useSSL=false
    username: root
    password: password
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true

management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
```

#### 实体类
```java
// user-service/src/main/java/com/example/userservice/entity/User.java
package com.example.userservice.entity;

import lombok.Data;
import javax.persistence.*;
import java.time.LocalDateTime;

@Data
@Entity
@Table(name = "users")
public class User {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(unique = true, nullable = false)
    private String username;
    
    @Column(nullable = false)
    private String password;
    
    @Column(unique = true)
    private String email;
    
    private String phone;
    
    private String avatar;
    
    @Enumerated(EnumType.STRING)
    private UserStatus status;
    
    private LocalDateTime createTime;
    
    private LocalDateTime updateTime;
    
    @PrePersist
    protected void onCreate() {
        createTime = LocalDateTime.now();
        updateTime = LocalDateTime.now();
    }
    
    @PreUpdate
    protected void onUpdate() {
        updateTime = LocalDateTime.now();
    }
}

public enum UserStatus {
    ACTIVE, INACTIVE, LOCKED
}
```

#### 控制器
```java
// user-service/src/main/java/com/example/userservice/controller/UserController.java
package com.example.userservice.controller;

import com.example.userservice.entity.User;
import com.example.userservice.service.UserService;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/user")
@RequiredArgsConstructor
public class UserController {
    
    private final UserService userService;
    
    @GetMapping("/info/{id}")
    public User getUserInfo(@PathVariable Long id) {
        return userService.getUserById(id);
    }
    
    @GetMapping("/list")
    public List<User> getUserList() {
        return userService.getAllUsers();
    }
    
    @PostMapping("/create")
    public User createUser(@RequestBody User user) {
        return userService.createUser(user);
    }
    
    @PutMapping("/update/{id}")
    public User updateUser(@PathVariable Long id, @RequestBody User user) {
        return userService.updateUser(id, user);
    }
    
    @DeleteMapping("/delete/{id}")
    public void deleteUser(@PathVariable Long id) {
        userService.deleteUser(id);
    }
    
    @GetMapping("/health")
    public String health() {
        return "用户服务运行正常";
    }
}
```

#### 服务类
```java
// user-service/src/main/java/com/example/userservice/service/UserService.java
package com.example.userservice.service;

import com.example.userservice.entity.User;
import com.example.userservice.repository.UserRepository;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;

import java.util.List;

@Service
@RequiredArgsConstructor
public class UserService {
    
    private final UserRepository userRepository;
    
    public User getUserById(Long id) {
        return userRepository.findById(id)
                .orElseThrow(() -> new RuntimeException("用户不存在"));
    }
    
    public List<User> getAllUsers() {
        return userRepository.findAll();
    }
    
    public User createUser(User user) {
        return userRepository.save(user);
    }
    
    public User updateUser(Long id, User user) {
        User existingUser = getUserById(id);
        existingUser.setUsername(user.getUsername());
        existingUser.setEmail(user.getEmail());
        existingUser.setPhone(user.getPhone());
        existingUser.setAvatar(user.getAvatar());
        existingUser.setStatus(user.getStatus());
        return userRepository.save(existingUser);
    }
    
    public void deleteUser(Long id) {
        userRepository.deleteById(id);
    }
}
```

#### 启动类
```java
// user-service/src/main/java/com/example/userservice/UserServiceApplication.java
package com.example.userservice;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;

@SpringBootApplication
@EnableDiscoveryClient
public class UserServiceApplication {
    
    public static void main(String[] args) {
        SpringApplication.run(UserServiceApplication.class, args);
    }
}
```

### 3. 订单服务

#### 依赖配置
```xml
<!-- order-service/pom.xml -->
<dependencies>
    <!-- Spring Boot Web Starter -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    
    <!-- Nacos服务发现 -->
    <dependency>
        <groupId>com.alibaba.cloud</groupId>
        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>
    </dependency>
    
    <!-- OpenFeign -->
    <dependency>
        <groupId>org.springframework.cloud</groupId>
        <artifactId>spring-cloud-starter-openfeign</artifactId>
    </dependency>
    
    <!-- Resilience4j -->
    <dependency>
        <groupId>io.github.resilience4j</groupId>
        <artifactId>resilience4j-spring-boot2</artifactId>
    </dependency>
    
    <!-- Spring Boot Data JPA -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-jpa</artifactId>
    </dependency>
    
    <!-- MySQL驱动 -->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
    </dependency>
</dependencies>
```

#### 配置文件
```yaml
# order-service/src/main/resources/application.yml
server:
  port: 8083

spring:
  application:
    name: order-service
  datasource:
    url: jdbc:mysql://localhost:3306/order_db?useUnicode=true&characterEncoding=utf8&useSSL=false
    username: root
    password: password
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true

# Resilience4j配置
resilience4j:
  circuitbreaker:
    instances:
      user-service:
        sliding-window-size: 10
        failure-rate-threshold: 50
        wait-duration-in-open-state: 5s
        permitted-number-of-calls-in-half-open-state: 3
        automatic-transition-from-open-to-half-open-enabled: true

# Feign配置
feign:
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 5000
        loggerLevel: basic

# 日志配置
logging:
  level:
    com.example.orderservice.client: DEBUG
```

#### Feign客户端
```java
// order-service/src/main/java/com/example/orderservice/client/UserFeignClient.java
package com.example.orderservice.client;

import org.springframework.cloud.openfeign.FeignClient;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;

@FeignClient(name = "user-service")
public interface UserFeignClient {
    
    @GetMapping("/user/info/{id}")
    String getUserInfo(@PathVariable("id") Long id);
    
    @GetMapping("/user/health")
    String health();
}
```

#### 订单实体
```java
// order-service/src/main/java/com/example/orderservice/entity/Order.java
package com.example.orderservice.entity;

import lombok.Data;
import javax.persistence.*;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.List;

@Data
@Entity
@Table(name = "orders")
public class Order {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @Column(unique = true, nullable = false)
    private String orderNo;
    
    private Long userId;
    
    private BigDecimal totalAmount;
    
    @Enumerated(EnumType.STRING)
    private OrderStatus status;
    
    private String address;
    
    private String phone;
    
    private String receiver;
    
    private LocalDateTime createTime;
    
    private LocalDateTime updateTime;
    
    @OneToMany(mappedBy = "order", cascade = CascadeType.ALL)
    private List<OrderItem> orderItems;
    
    @PrePersist
    protected void onCreate() {
        createTime = LocalDateTime.now();
        updateTime = LocalDateTime.now();
    }
    
    @PreUpdate
    protected void onUpdate() {
        updateTime = LocalDateTime.now();
    }
}

public enum OrderStatus {
    PENDING, PAID, SHIPPED, DELIVERED, CANCELLED
}
```

#### 订单控制器
```java
// order-service/src/main/java/com/example/orderservice/controller/OrderController.java
package com.example.orderservice.controller;

import com.example.orderservice.entity.Order;
import com.example.orderservice.service.OrderService;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping("/order")
@RequiredArgsConstructor
public class OrderController {
    
    private final OrderService orderService;
    
    @GetMapping("/info/{id}")
    public Order getOrderInfo(@PathVariable Long id) {
        return orderService.getOrderById(id);
    }
    
    @GetMapping("/user/{userId}")
    public List<Order> getUserOrders(@PathVariable Long userId) {
        return orderService.getOrdersByUserId(userId);
    }
    
    @PostMapping("/create")
    public Order createOrder(@RequestBody Order order) {
        return orderService.createOrder(order);
    }
    
    @PutMapping("/status/{id}")
    public Order updateOrderStatus(@PathVariable Long id, @RequestParam String status) {
        return orderService.updateOrderStatus(id, status);
    }
    
    @GetMapping("/health")
    public String health() {
        return "订单服务运行正常";
    }
}
```

#### 启动类
```java
// order-service/src/main/java/com/example/orderservice/OrderServiceApplication.java
package com.example.orderservice;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.client.discovery.EnableDiscoveryClient;
import org.springframework.cloud.openfeign.EnableFeignClients;

@SpringBootApplication
@EnableDiscoveryClient
@EnableFeignClients
public class OrderServiceApplication {
    
    public static void main(String[] args) {
        SpringApplication.run(OrderServiceApplication.class, args);
    }
}
```

## 🚀 项目启动

### 1. 环境准备
```bash
# 启动Nacos
cd nacos
bin/startup.sh -m standalone

# 启动MySQL
sudo systemctl start mysql

# 启动Redis
sudo systemctl start redis

# 启动RabbitMQ
sudo systemctl start rabbitmq-server
```

### 2. 数据库初始化
```sql
-- 创建用户数据库
CREATE DATABASE user_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 创建订单数据库
CREATE DATABASE order_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- 创建商品数据库
CREATE DATABASE product_db CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 3. 服务启动顺序
```bash
# 1. 启动网关服务
cd gateway
mvn spring-boot:run

# 2. 启动用户服务
cd user-service
mvn spring-boot:run

# 3. 启动商品服务
cd product-service
mvn spring-boot:run

# 4. 启动订单服务
cd order-service
mvn spring-boot:run

# 5. 启动其他服务
cd payment-service
mvn spring-boot:run

cd inventory-service
mvn spring-boot:run

cd message-service
mvn spring-boot:run
```

## 🧪 功能测试

### 1. 服务注册测试
```bash
# 访问Nacos控制台
http://localhost:8848/nacos
# 用户名/密码：nacos/nacos

# 查看服务列表
curl http://localhost:8848/nacos/v1/ns/service/list
```

### 2. 网关路由测试
```bash
# 通过网关访问用户服务
curl http://localhost:8080/user/health

# 通过网关访问订单服务
curl http://localhost:8080/order/health

# 通过网关访问商品服务
curl http://localhost:8080/product/health
```

### 3. 服务调用测试
```bash
# 创建用户
curl -X POST http://localhost:8080/user/create \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"123456","email":"test@example.com"}'

# 创建订单
curl -X POST http://localhost:8080/order/create \
  -H "Content-Type: application/json" \
  -d '{"userId":1,"totalAmount":99.99,"status":"PENDING"}'

# 查询订单
curl http://localhost:8080/order/info/1
```

## 📊 监控和运维

### 1. 健康检查
```bash
# 网关健康检查
curl http://localhost:8080/actuator/health

# 用户服务健康检查
curl http://localhost:8081/actuator/health

# 订单服务健康检查
curl http://localhost:8083/actuator/health
```

### 2. 性能监控
```bash
# 查看指标
curl http://localhost:8080/actuator/metrics

# 查看JVM指标
curl http://localhost:8080/actuator/metrics/jvm.memory.used

# 查看HTTP指标
curl http://localhost:8080/actuator/metrics/http.server.requests
```

### 3. 日志查看
```bash
# 查看网关日志
tail -f gateway/logs/gateway.log

# 查看用户服务日志
tail -f user-service/logs/user-service.log

# 查看订单服务日志
tail -f order-service/logs/order-service.log
```

## 🚨 故障排查

### 1. 服务无法注册
**排查步骤：**
1. 检查Nacos服务状态
2. 检查网络连接
3. 检查配置文件
4. 查看应用日志

### 2. 服务调用失败
**排查步骤：**
1. 检查服务注册状态
2. 检查网络连接
3. 检查熔断器状态
4. 查看调用日志

### 3. 配置无法刷新
**排查步骤：**
1. 检查@RefreshScope注解
2. 检查配置推送机制
3. 手动刷新配置
4. 查看配置中心日志

## 💡 最佳实践

### 1. 服务设计原则
- **单一职责**：每个服务专注一个业务功能
- **高内聚低耦合**：服务内部高内聚，服务间低耦合
- **服务自治**：服务独立开发、测试、部署

### 2. 配置管理
- **环境隔离**：不同环境使用不同配置
- **配置加密**：敏感信息加密存储
- **版本管理**：配置变更版本控制

### 3. 监控告警
- **健康检查**：定期检查服务状态
- **性能监控**：监控关键性能指标
- **日志追踪**：记录完整的请求链路

## 🔗 扩展功能

### 1. 安全认证
- JWT Token认证
- OAuth2授权
- RBAC权限控制

### 2. 缓存策略
- Redis缓存
- 本地缓存
- 缓存更新策略

### 3. 消息队列
- 异步处理
- 削峰填谷
- 消息可靠性

### 4. 分布式事务
- Seata集成
- TCC模式
- Saga模式

---

**记住：实践是最好的学习方式，动手搭建项目才能真正掌握微服务！** 🎯
