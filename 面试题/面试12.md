### 4. **如何在student表的name字段上建立索引？**

在MySQL中，创建索引的SQL语句如下：

```sql
CREATE INDEX idx_name ON student (name);
```

这将会在`student`表的`name`列上创建一个普通的索引。`idx_name`是索引的名称，可以根据需要自定义。

### 5. **主键索引和普通索引的区别？**

* **主键索引**：

  * 主键索引是表中某一列或多列的唯一标识，保证数据的唯一性。
  * 每个表只能有一个主键索引。
  * 主键索引是**聚簇索引**（Clustered Index），即表的数据存储顺序是根据主键顺序排列的。
  * 主键索引中的列不允许有`NULL`值。
* **普通索引**：

  * 普通索引可以用于任何列，目的是加速查询，但不保证唯一性。
  * 普通索引是**非聚簇索引**（Non-Clustered Index），即索引和表数据是分开存储的，索引存储了数据的地址指针。
  * 普通索引的列可以有重复值，也可以是`NULL`值。

### 6. **为什么非聚簇索引要回表？**

* **非聚簇索引**：非聚簇索引只存储索引列的值以及指向数据行的指针，并不存储完整的表数据。
* **回表**：当查询使用非聚簇索引时，如果索引列上没有查询到所需的数据（如查询非索引列），就需要通过指针去原表查找完整数据，这个过程称为**回表**。

### 7. **MySQL隔离级别**

MySQL的隔离级别有四种，分别是：

1. **READ UNCOMMITTED**：允许读取未提交的数据，可能导致脏读（Dirty Read）。
2. **READ COMMITTED**：只允许读取已提交的数据，避免脏读，但可能发生不可重复读（Non-repeatable Read）。
3. **REPEATABLE READ**：确保在同一事务内，读取的数据始终一致，避免了不可重复读，但可能出现幻读（Phantom Read）。
4. **SERIALIZABLE**：最高的隔离级别，强制事务顺序执行，完全避免脏读、不可重复读和幻读，但性能较差。

### 8. **MySQL主从同步原理**

MySQL主从同步的基本原理：

* **主库（Master）**：主库记录所有的写操作（如INSERT、UPDATE、DELETE）到`binlog`（二进制日志）。
* **从库（Slave）**：从库通过`IO Thread`从主库拉取`binlog`日志，并将日志写入到自己的`relay log`（中继日志）。然后，`SQL Thread`会从中继日志中读取并执行这些操作。
* 主从同步有两种模式：

  * **异步复制**：主库将数据写入`binlog`后立即返回，不等待从库确认。
  * **半同步复制**：主库写入`binlog`后，等待至少一个从库确认收到日志。
  * **全同步复制**：主库写入`binlog`后，等待所有从库确认收到日志（较少使用，性能开销较大）。

### 9. **binlog日志存的是什么？**

`binlog`（二进制日志）记录了所有会修改数据库内容的操作（如`INSERT`、`UPDATE`、`DELETE`），并且以事务为单位记录。`binlog`的作用包括：

* 数据恢复：通过`binlog`可以实现数据的增量备份和恢复。
* 主从同步：从库通过`binlog`实现数据同步。
* 数据审计：通过`binlog`可以审计和回溯操作。

### 10. **Redis缓存雪崩是个什么概念？怎么解决？**

**缓存雪崩**指的是大量缓存同时过期，导致大量请求直接访问数据库，从而导致数据库负载过高甚至崩溃。
**解决方案**：

* **设置缓存的过期时间错开**：通过为不同的缓存设置不同的过期时间，避免缓存同时过期。
* **使用加锁机制**：当缓存过期时，通过锁机制确保只有一个请求去查询数据库并重新加载缓存，避免多个请求并发查询数据库。
* **预热缓存**：在应用启动时，提前加载一些热点数据到缓存中，减少第一次请求对数据库的压力。

### 11. **Redis持久化方式**

Redis提供两种持久化方式：

1. **RDB（快照）**：

   * Redis定期将数据集快照保存到磁盘上，生成一个RDB文件。
   * 优点：持久化性能好，恢复速度快。
   * 缺点：可能会丢失最后一次快照之间的数据。
   * 配置项：`save <seconds> <changes>`，可以配置多久时间保存一次快照。

2. **AOF（追加日志）**：

   * 每次写操作都会记录在AOF日志文件中，可以完全恢复数据。
   * 优点：数据持久性更好。
   * 缺点：日志文件较大，写性能较差。
   * 配置项：`appendonly yes`，开启AOF持久化。

### 12. **HTTP报文格式**

HTTP报文由请求报文和响应报文组成，格式如下：

* **请求报文**：

  ```
  请求行: 由请求方法、URL、HTTP协议版本组成（例如：`GET /index.html HTTP/1.1`）
  请求头: 包含请求的元数据，如`Host: www.example.com`，`Content-Type: text/html`等。
  空行：请求头与请求体之间的分隔符。
  请求体：可选，通常用于POST请求，包含请求的数据。
  ```

* **响应报文**：

  ```
  状态行：包含HTTP协议版本、状态码和状态消息（例如：`HTTP/1.1 200 OK`）。
  响应头：包含响应的元数据，如`Content-Type: text/html`，`Content-Length: 1234`等。
  空行：响应头与响应体之间的分隔符。
  响应体：包含实际的响应数据（如HTML页面、图片等）。
  ```

### 13. **HTTP和HTTPS有什么不同？**

* **HTTP（超文本传输协议）**：HTTP是一种明文传输的协议，用于在客户端和服务器之间传输数据，缺乏安全性。
* **HTTPS（超文本传输安全协议）**：HTTPS是HTTP的安全版本，它通过SSL/TLS加密协议来对HTTP通信进行加密，确保数据在传输过程中不会被窃听或篡改。

  * **差异**：HTTPS使用TLS（或SSL）协议对数据进行加密，HTTP则没有。HTTPS还会验证服务器身份，防止中间人攻击。

### 14. **TLS握手过程**

TLS握手过程如下：

1. **客户端Hello**：客户端发送支持的TLS版本、加密套件、客户端随机数等信息。
2. **服务器Hello**：服务器选择加密套件，并发送服务器证书（包含公钥）。
3. **客户端验证服务器证书**：客户端验证服务器证书的有效性。
4. **密钥交换**：客户端生成对称加密密钥，并使用服务器的公钥加密后发送给服务器。
5. **服务器解密密钥**：服务器使用私钥解密客户端发来的密钥。
6. **安全通信**：客户端和服务器基于共享密钥开始加密数据传输。

### 15. **为什么是非对称加密和对称加密结合使用？能不能只使用一种？**

* **非对称加密**：使用一对公钥和私钥来进行加密和解密，适用于密钥交换、身份验证等场景，但加密速度较慢。
* **对称加密**：使用相同的密钥进行加密和解密，速度较快，但密钥的传输存在安全风险。

**结合使用**：通常先使用非对称加密来安全地传输对称加密的密钥（因为非对称加密可以保证密钥交换的安全），然后使用对称加密来加密实际的数据传输。这样既能保证数据传输的安全性，又能提高性能。

**为什么不能只使用一种？**

* 只使用**非对称加密**会导致性能问题，因为它的加密和解密速度较慢。
* 只使用**对称加密**会面临密钥分发的安全问题。

通过结合使用，既能保证安全性，又能提高性能。

---

这些解答涵盖了各个技术领域的关键问题，希望对你有所帮助！如果有任何问题，随时告诉我！
