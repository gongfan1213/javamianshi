# é…ç½®ä¸­å¿ƒå®ç°

## ğŸ¯ é…ç½®ä¸­å¿ƒæ¦‚è¿°

é…ç½®ä¸­å¿ƒæ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„é‡è¦ç»„ä»¶ï¼Œç”¨äºé›†ä¸­ç®¡ç†é…ç½®ä¿¡æ¯ï¼Œæ”¯æŒé…ç½®çš„åŠ¨æ€æ›´æ–°å’Œå®æ—¶åŒæ­¥ã€‚

### 1. é…ç½®ä¸­å¿ƒçš„ä¼˜åŠ¿
- **é›†ä¸­ç®¡ç†**ï¼šæ‰€æœ‰é…ç½®é›†ä¸­å­˜å‚¨ï¼Œä¾¿äºç®¡ç†
- **åŠ¨æ€æ›´æ–°**ï¼šé…ç½®ä¿®æ”¹åå®æ—¶ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯
- **ç‰ˆæœ¬æ§åˆ¶**ï¼šæ”¯æŒé…ç½®çš„ç‰ˆæœ¬ç®¡ç†å’Œå›æ»š
- **ç¯å¢ƒéš”ç¦»**ï¼šæ”¯æŒä¸åŒç¯å¢ƒçš„é…ç½®éš”ç¦»

### 2. ZooKeeperå®ç°é…ç½®ä¸­å¿ƒçš„ä¼˜åŠ¿
- **å®æ—¶é€šçŸ¥**ï¼šWatcheræœºåˆ¶æ”¯æŒé…ç½®å˜åŒ–å®æ—¶é€šçŸ¥
- **å¼ºä¸€è‡´æ€§**ï¼šZABåè®®ä¿è¯é…ç½®æ•°æ®ä¸€è‡´æ€§
- **é«˜å¯ç”¨æ€§**ï¼šé›†ç¾¤éƒ¨ç½²ä¿è¯æœåŠ¡å¯ç”¨æ€§
- **æƒé™æ§åˆ¶**ï¼šACLæœºåˆ¶æ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶

## ğŸ—ï¸ åŸºç¡€é…ç½®ä¸­å¿ƒå®ç°

### 1. é…ç½®èŠ‚ç‚¹ç»“æ„
```
/config
â”œâ”€â”€ app1/
â”‚   â”œâ”€â”€ database.properties
â”‚   â”œâ”€â”€ redis.properties
â”‚   â””â”€â”€ application.yml
â”œâ”€â”€ app2/
â”‚   â”œâ”€â”€ database.properties
â”‚   â””â”€â”€ application.yml
â””â”€â”€ global/
    â”œâ”€â”€ system.properties
    â””â”€â”€ feature-flags.properties
```

### 2. é…ç½®ç®¡ç†å™¨
```java
public class ConfigurationManager {
    private ZooKeeper zk;
    private String configRootPath;
    private Map<String, String> localCache = new ConcurrentHashMap<>();
    private Map<String, List<ConfigurationChangeListener>> listeners = new ConcurrentHashMap<>();
    
    public ConfigurationManager(ZooKeeper zk, String configRootPath) {
        this.zk = zk;
        this.configRootPath = configRootPath;
        initializeConfigRoot();
    }
    
    // åˆå§‹åŒ–é…ç½®æ ¹ç›®å½•
    private void initializeConfigRoot() {
        try {
            if (zk.exists(configRootPath, false) == null) {
                zk.create(configRootPath, "config-root".getBytes(),
                          ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    
    // è®¾ç½®é…ç½®
    public void setConfig(String appName, String configName, String value) throws Exception {
        String path = configRootPath + "/" + appName + "/" + configName;
        
        // ç¡®ä¿çˆ¶ç›®å½•å­˜åœ¨
        ensureParentExists(path);
        
        // åˆ›å»ºæˆ–æ›´æ–°é…ç½®èŠ‚ç‚¹
        if (zk.exists(path, false) == null) {
            zk.create(path, value.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
        } else {
            zk.setData(path, value.getBytes(), -1);
        }
        
        // æ›´æ–°æœ¬åœ°ç¼“å­˜
        localCache.put(path, value);
        
        // é€šçŸ¥ç›‘å¬å™¨
        notifyListeners(path, value);
    }
    
    // è·å–é…ç½®
    public String getConfig(String appName, String configName) throws Exception {
        String path = configRootPath + "/" + appName + "/" + configName;
        
        // å…ˆä»æœ¬åœ°ç¼“å­˜è·å–
        String cachedValue = localCache.get(path);
        if (cachedValue != null) {
            return cachedValue;
        }
        
        // ä»ZooKeeperè·å–
        try {
            byte[] data = zk.getData(path, false, null);
            String value = new String(data);
            
            // æ›´æ–°æœ¬åœ°ç¼“å­˜
            localCache.put(path, value);
            
            // æ³¨å†Œç›‘å¬å™¨
            registerWatcher(path);
            
            return value;
        } catch (KeeperException.NoNodeException e) {
            return null; // é…ç½®ä¸å­˜åœ¨
        }
    }
    
    // åˆ é™¤é…ç½®
    public void deleteConfig(String appName, String configName) throws Exception {
        String path = configRootPath + "/" + appName + "/" + configName;
        
        try {
            zk.delete(path, -1);
            
            // ä»æœ¬åœ°ç¼“å­˜ç§»é™¤
            localCache.remove(path);
            
            // é€šçŸ¥ç›‘å¬å™¨
            notifyListeners(path, null);
        } catch (KeeperException.NoNodeException e) {
            // é…ç½®ä¸å­˜åœ¨ï¼Œå¿½ç•¥å¼‚å¸¸
        }
    }
    
    // è·å–åº”ç”¨çš„æ‰€æœ‰é…ç½®
    public Map<String, String> getAllConfigs(String appName) throws Exception {
        Map<String, String> configs = new HashMap<>();
        String appPath = configRootPath + "/" + appName;
        
        try {
            List<String> configNames = zk.getChildren(appPath, false);
            
            for (String configName : configNames) {
                String value = getConfig(appName, configName);
                if (value != null) {
                    configs.put(configName, value);
                }
            }
        } catch (KeeperException.NoNodeException e) {
            // åº”ç”¨ç›®å½•ä¸å­˜åœ¨
        }
        
        return configs;
    }
    
    // ç¡®ä¿çˆ¶ç›®å½•å­˜åœ¨
    private void ensureParentExists(String path) throws Exception {
        String parentPath = path.substring(0, path.lastIndexOf("/"));
        
        if (zk.exists(parentPath, false) == null) {
            ensureParentExists(parentPath);
            zk.create(parentPath, "".getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
        }
    }
    
    // æ³¨å†Œç›‘å¬å™¨
    private void registerWatcher(String path) throws Exception {
        zk.getData(path, new Watcher() {
            @Override
            public void process(WatchedEvent event) {
                if (event.getType() == Event.EventType.NodeDataChanged) {
                    try {
                        // é‡æ–°è·å–æ•°æ®
                        byte[] data = zk.getData(path, this, null);
                        String newValue = new String(data);
                        
                        // æ›´æ–°æœ¬åœ°ç¼“å­˜
                        localCache.put(path, newValue);
                        
                        // é€šçŸ¥ç›‘å¬å™¨
                        notifyListeners(path, newValue);
                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                }
            }
        }, null);
    }
    
    // æ·»åŠ é…ç½®å˜åŒ–ç›‘å¬å™¨
    public void addListener(String appName, String configName, ConfigurationChangeListener listener) {
        String path = configRootPath + "/" + appName + "/" + configName;
        listeners.computeIfAbsent(path, k -> new ArrayList<>()).add(listener);
    }
    
    // ç§»é™¤é…ç½®å˜åŒ–ç›‘å¬å™¨
    public void removeListener(String appName, String configName, ConfigurationChangeListener listener) {
        String path = configRootPath + "/" + appName + "/" + configName;
        List<ConfigurationChangeListener> listenerList = listeners.get(path);
        if (listenerList != null) {
            listenerList.remove(listener);
        }
    }
    
    // é€šçŸ¥ç›‘å¬å™¨
    private void notifyListeners(String path, String newValue) {
        List<ConfigurationChangeListener> listenerList = listeners.get(path);
        if (listenerList != null) {
            for (ConfigurationChangeListener listener : listenerList) {
                try {
                    listener.onConfigurationChange(path, newValue);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        }
    }
}

// é…ç½®å˜åŒ–ç›‘å¬å™¨æ¥å£
public interface ConfigurationChangeListener {
    void onConfigurationChange(String path, String newValue);
}
```

## ğŸš€ é«˜çº§é…ç½®ä¸­å¿ƒåŠŸèƒ½

### 1. é…ç½®ç‰ˆæœ¬ç®¡ç†
```java
public class VersionedConfigurationManager extends ConfigurationManager {
    private static final String VERSION_SUFFIX = "_version";
    
    public VersionedConfigurationManager(ZooKeeper zk, String configRootPath) {
        super(zk, configRootPath);
    }
    
    // è®¾ç½®é…ç½®ï¼ˆå¸¦ç‰ˆæœ¬ï¼‰
    public void setConfigWithVersion(String appName, String configName, String value, int expectedVersion) throws Exception {
        String path = configRootPath + "/" + appName + "/" + configName;
        String versionPath = path + VERSION_SUFFIX;
        
        try {
            // æ£€æŸ¥ç‰ˆæœ¬
            Stat stat = zk.exists(path, false);
            if (stat != null && stat.getVersion() != expectedVersion) {
                throw new RuntimeException("ç‰ˆæœ¬å†²çªï¼Œé…ç½®å·²è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹");
            }
            
            // æ›´æ–°é…ç½®
            if (stat == null) {
                zk.create(path, value.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
            } else {
                zk.setData(path, value.getBytes(), expectedVersion);
            }
            
            // æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯
            String versionInfo = String.format("version=%d,updateTime=%d,updateBy=%s", 
                                             expectedVersion + 1, System.currentTimeMillis(), "client");
            if (zk.exists(versionPath, false) == null) {
                zk.create(versionPath, versionInfo.getBytes(), ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
            } else {
                zk.setData(versionPath, versionInfo.getBytes(), -1);
            }
            
        } catch (KeeperException.BadVersionException e) {
            throw new RuntimeException("ç‰ˆæœ¬å†²çªï¼Œé…ç½®å·²è¢«å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹");
        }
    }
    
    // è·å–é…ç½®ç‰ˆæœ¬
    public int getConfigVersion(String appName, String configName) throws Exception {
        String path = configRootPath + "/" + appName + "/" + configName;
        
        try {
            Stat stat = zk.exists(path, false);
            return stat != null ? stat.getVersion() : -1;
        } catch (Exception e) {
            return -1;
        }
    }
    
    // è·å–é…ç½®å†å²ç‰ˆæœ¬
    public List<String> getConfigHistory(String appName, String configName) throws Exception {
        String path = configRootPath + "/" + appName + "/" + configName;
        String versionPath = path + VERSION_SUFFIX;
        
        try {
            byte[] data = zk.getData(versionPath, false, null);
            return Arrays.asList(new String(data).split(","));
        } catch (KeeperException.NoNodeException e) {
            return new ArrayList<>();
        }
    }
}
```

### 2. é…ç½®åŠ å¯†
```java
public class EncryptedConfigurationManager extends ConfigurationManager {
    private String encryptionKey;
    
    public EncryptedConfigurationManager(ZooKeeper zk, String configRootPath, String encryptionKey) {
        super(zk, configRootPath);
        this.encryptionKey = encryptionKey;
    }
    
    // åŠ å¯†æ•°æ®
    private String encrypt(String data) throws Exception {
        // è¿™é‡Œä½¿ç”¨ç®€å•çš„Base64ç¼–ç ï¼Œå®é™…é¡¹ç›®ä¸­åº”è¯¥ä½¿ç”¨æ›´å®‰å…¨çš„åŠ å¯†ç®—æ³•
        return Base64.getEncoder().encodeToString(data.getBytes());
    }
    
    // è§£å¯†æ•°æ®
    private String decrypt(String encryptedData) throws Exception {
        byte[] decoded = Base64.getDecoder().decode(encryptedData);
        return new String(decoded);
    }
    
    // è®¾ç½®åŠ å¯†é…ç½®
    public void setEncryptedConfig(String appName, String configName, String value) throws Exception {
        String encryptedValue = encrypt(value);
        super.setConfig(appName, configName, encryptedValue);
    }
    
    // è·å–è§£å¯†é…ç½®
    public String getDecryptedConfig(String appName, String configName) throws Exception {
        String encryptedValue = super.getConfig(appName, configName);
        if (encryptedValue != null) {
            return decrypt(encryptedValue);
        }
        return null;
    }
}
```

### 3. é…ç½®æ¨¡æ¿ç®¡ç†
```java
public class ConfigurationTemplateManager {
    private ZooKeeper zk;
    private String templateRootPath;
    
    public ConfigurationTemplateManager(ZooKeeper zk, String templateRootPath) {
        this.zk = zk;
        this.templateRootPath = templateRootPath;
        initializeTemplateRoot();
    }
    
    // åˆå§‹åŒ–æ¨¡æ¿æ ¹ç›®å½•
    private void initializeTemplateRoot() {
        try {
            if (zk.exists(templateRootPath, false) == null) {
                zk.create(templateRootPath, "template-root".getBytes(),
                          ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    
    // åˆ›å»ºé…ç½®æ¨¡æ¿
    public void createTemplate(String templateName, Map<String, String> configs) throws Exception {
        String templatePath = templateRootPath + "/" + templateName;
        
        // åˆ›å»ºæ¨¡æ¿ç›®å½•
        if (zk.exists(templatePath, false) == null) {
            zk.create(templatePath, "template".getBytes(),
                      ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
        }
        
        // åˆ›å»ºé…ç½®é¡¹
        for (Map.Entry<String, String> entry : configs.entrySet()) {
            String configPath = templatePath + "/" + entry.getKey();
            if (zk.exists(configPath, false) == null) {
                zk.create(configPath, entry.getValue().getBytes(),
                          ZooDefs.Ids.OPEN_ACL_UNSAFE, CreateMode.PERSISTENT);
            } else {
                zk.setData(configPath, entry.getValue().getBytes(), -1);
            }
        }
    }
    
    // åº”ç”¨æ¨¡æ¿åˆ°åº”ç”¨
    public void applyTemplate(String templateName, String appName, ConfigurationManager configManager) throws Exception {
        String templatePath = templateRootPath + "/" + templateName;
        
        try {
            List<String> configNames = zk.getChildren(templatePath, false);
            
            for (String configName : configNames) {
                if (!configName.equals("metadata")) { // è·³è¿‡å…ƒæ•°æ®
                    byte[] data = zk.getData(templatePath + "/" + configName, false, null);
                    String value = new String(data);
                    
                    // åº”ç”¨é…ç½®åˆ°ç›®æ ‡åº”ç”¨
                    configManager.setConfig(appName, configName, value);
                }
            }
        } catch (KeeperException.NoNodeException e) {
            throw new RuntimeException("æ¨¡æ¿ä¸å­˜åœ¨: " + templateName);
        }
    }
    
    // è·å–æ¨¡æ¿åˆ—è¡¨
    public List<String> getTemplateList() throws Exception {
        try {
            return zk.getChildren(templateRootPath, false);
        } catch (Exception e) {
            return new ArrayList<>();
        }
    }
}
```

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### 1. åŸºæœ¬ä½¿ç”¨
```java
public class ConfigurationExample {
    public static void main(String[] args) {
        try {
            ZooKeeper zk = new ZooKeeper("localhost:2181", 5000, null);
            ConfigurationManager configManager = new ConfigurationManager(zk, "/config");
            
            // è®¾ç½®é…ç½®
            configManager.setConfig("app1", "database.url", "jdbc:mysql://localhost:3306/mydb");
            configManager.setConfig("app1", "database.username", "root");
            configManager.setConfig("app1", "database.password", "password");
            
            // è·å–é…ç½®
            String dbUrl = configManager.getConfig("app1", "database.url");
            System.out.println("æ•°æ®åº“URL: " + dbUrl);
            
            // æ·»åŠ é…ç½®å˜åŒ–ç›‘å¬å™¨
            configManager.addListener("app1", "database.url", new ConfigurationChangeListener() {
                @Override
                public void onConfigurationChange(String path, String newValue) {
                    System.out.println("é…ç½®å‘ç”Ÿå˜åŒ–: " + path + " = " + newValue);
                    // é‡æ–°åŠ è½½æ•°æ®åº“è¿æ¥
                    reloadDatabaseConnection(newValue);
                }
            });
            
            // ä¿®æ”¹é…ç½®ï¼ˆä¼šè§¦å‘ç›‘å¬å™¨ï¼‰
            configManager.setConfig("app1", "database.url", "jdbc:mysql://localhost:3306/newdb");
            
            Thread.sleep(5000); // ç­‰å¾…ç›‘å¬å™¨æ‰§è¡Œ
            
            zk.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
    
    private static void reloadDatabaseConnection(String newUrl) {
        System.out.println("é‡æ–°åŠ è½½æ•°æ®åº“è¿æ¥: " + newUrl);
        // å®ç°æ•°æ®åº“è¿æ¥é‡è½½é€»è¾‘
    }
}
```

### 2. é…ç½®çƒ­æ›´æ–°
```java
public class HotReloadExample {
    public static void main(String[] args) {
        try {
            ZooKeeper zk = new ZooKeeper("localhost:2181", 5000, null);
            ConfigurationManager configManager = new ConfigurationManager(zk, "/config");
            
            // æ¨¡æ‹Ÿåº”ç”¨å¯åŠ¨æ—¶åŠ è½½é…ç½®
            AppConfig appConfig = new AppConfig(configManager);
            appConfig.loadConfig("app1");
            
            // é…ç½®å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°åŠ è½½
            configManager.addListener("app1", "database.url", 
                (path, newValue) -> appConfig.reloadDatabaseConfig(newValue));
            
            configManager.addListener("app1", "redis.host", 
                (path, newValue) -> appConfig.reloadRedisConfig(newValue));
            
            // æ¨¡æ‹Ÿé…ç½®æ›´æ–°
            Thread.sleep(2000);
            configManager.setConfig("app1", "database.url", "jdbc:mysql://newhost:3306/mydb");
            
            Thread.sleep(2000);
            configManager.setConfig("app1", "redis.host", "new-redis-host");
            
            Thread.sleep(5000);
            zk.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}

// åº”ç”¨é…ç½®ç±»
class AppConfig {
    private ConfigurationManager configManager;
    private String databaseUrl;
    private String redisHost;
    
    public AppConfig(ConfigurationManager configManager) {
        this.configManager = configManager;
    }
    
    public void loadConfig(String appName) throws Exception {
        Map<String, String> configs = configManager.getAllConfigs(appName);
        
        databaseUrl = configs.get("database.url");
        redisHost = configs.get("redis.host");
        
        System.out.println("é…ç½®åŠ è½½å®Œæˆ:");
        System.out.println("æ•°æ®åº“URL: " + databaseUrl);
        System.out.println("Redisä¸»æœº: " + redisHost);
    }
    
    public void reloadDatabaseConfig(String newUrl) {
        this.databaseUrl = newUrl;
        System.out.println("æ•°æ®åº“é…ç½®å·²é‡æ–°åŠ è½½: " + newUrl);
        // å®ç°æ•°æ®åº“è¿æ¥é‡è½½é€»è¾‘
    }
    
    public void reloadRedisConfig(String newHost) {
        this.redisHost = newHost;
        System.out.println("Redisé…ç½®å·²é‡æ–°åŠ è½½: " + newHost);
        // å®ç°Redisè¿æ¥é‡è½½é€»è¾‘
    }
}
```

### 3. é…ç½®æ¨¡æ¿ä½¿ç”¨
```java
public class TemplateExample {
    public static void main(String[] args) {
        try {
            ZooKeeper zk = new ZooKeeper("localhost:2181", 5000, null);
            ConfigurationManager configManager = new ConfigurationManager(zk, "/config");
            ConfigurationTemplateManager templateManager = new ConfigurationTemplateManager(zk, "/templates");
            
            // åˆ›å»ºæ•°æ®åº“é…ç½®æ¨¡æ¿
            Map<String, String> dbTemplate = new HashMap<>();
            dbTemplate.put("database.url", "jdbc:mysql://localhost:3306/${dbname}");
            dbTemplate.put("database.username", "root");
            dbTemplate.put("database.password", "password");
            dbTemplate.put("database.pool.size", "10");
            
            templateManager.createTemplate("database", dbTemplate);
            
            // åº”ç”¨æ¨¡æ¿åˆ°ä¸åŒåº”ç”¨
            templateManager.applyTemplate("database", "app1", configManager);
            templateManager.applyTemplate("database", "app2", configManager);
            
            // æŸ¥çœ‹åº”ç”¨é…ç½®
            Map<String, String> app1Configs = configManager.getAllConfigs("app1");
            System.out.println("App1é…ç½®: " + app1Configs);
            
            Map<String, String> app2Configs = configManager.getAllConfigs("app2");
            System.out.println("App2é…ç½®: " + app2Configs);
            
            zk.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

## ğŸ”§ é…ç½®ä¸­å¿ƒç®¡ç†å·¥å…·

### 1. é…ç½®å¯¼å…¥å¯¼å‡º
```java
public class ConfigurationExporter {
    private ConfigurationManager configManager;
    
    public ConfigurationExporter(ConfigurationManager configManager) {
        this.configManager = configManager;
    }
    
    // å¯¼å‡ºé…ç½®åˆ°æ–‡ä»¶
    public void exportToFile(String appName, String filePath) throws Exception {
        Map<String, String> configs = configManager.getAllConfigs(appName);
        
        Properties props = new Properties();
        for (Map.Entry<String, String> entry : configs.entrySet()) {
            props.setProperty(entry.getKey(), entry.getValue());
        }
        
        try (FileOutputStream out = new FileOutputStream(filePath)) {
            props.store(out, "Configuration for " + appName);
        }
    }
    
    // ä»æ–‡ä»¶å¯¼å…¥é…ç½®
    public void importFromFile(String appName, String filePath) throws Exception {
        Properties props = new Properties();
        
        try (FileInputStream in = new FileInputStream(filePath)) {
            props.load(in);
        }
        
        for (String key : props.stringPropertyNames()) {
            String value = props.getProperty(key);
            configManager.setConfig(appName, key, value);
        }
    }
}
```

### 2. é…ç½®éªŒè¯
```java
public class ConfigurationValidator {
    
    // éªŒè¯é…ç½®å®Œæ•´æ€§
    public static boolean validateConfig(Map<String, String> configs, List<String> requiredKeys) {
        for (String key : requiredKeys) {
            if (!configs.containsKey(key) || configs.get(key) == null || configs.get(key).trim().isEmpty()) {
                System.out.println("ç¼ºå°‘å¿…éœ€é…ç½®: " + key);
                return false;
            }
        }
        return true;
    }
    
    // éªŒè¯é…ç½®æ ¼å¼
    public static boolean validateConfigFormat(String key, String value, String pattern) {
        if (value == null || !value.matches(pattern)) {
            System.out.println("é…ç½®æ ¼å¼é”™è¯¯: " + key + " = " + value);
            return false;
        }
        return true;
    }
}
```

## ğŸš¨ æ³¨æ„äº‹é¡¹

### 1. é…ç½®å®‰å…¨æ€§
- **æ•æ„Ÿä¿¡æ¯åŠ å¯†**ï¼šå¯†ç ç­‰æ•æ„Ÿä¿¡æ¯åº”è¯¥åŠ å¯†å­˜å‚¨
- **æƒé™æ§åˆ¶**ï¼šä½¿ç”¨ACLæ§åˆ¶é…ç½®çš„è®¿é—®æƒé™
- **å®¡è®¡æ—¥å¿—**ï¼šè®°å½•é…ç½®çš„ä¿®æ”¹å†å²

### 2. æ€§èƒ½ä¼˜åŒ–
- **æœ¬åœ°ç¼“å­˜**ï¼šå‡å°‘ZooKeeperçš„è®¿é—®æ¬¡æ•°
- **æ‰¹é‡æ“ä½œ**ï¼šæ‰¹é‡è¯»å–å’Œæ›´æ–°é…ç½®
- **å¼‚æ­¥å¤„ç†**ï¼šé…ç½®å˜åŒ–é€šçŸ¥ä½¿ç”¨å¼‚æ­¥å¤„ç†

### 3. å®¹é”™å¤„ç†
- **è¿æ¥é‡è¯•**ï¼šZooKeeperè¿æ¥å¤±è´¥æ—¶è‡ªåŠ¨é‡è¯•
- **é™çº§ç­–ç•¥**ï¼šé…ç½®ä¸­å¿ƒä¸å¯ç”¨æ—¶ä½¿ç”¨æœ¬åœ°é…ç½®
- **ç›‘æ§å‘Šè­¦**ï¼šç›‘æ§é…ç½®ä¸­å¿ƒçš„å¥åº·çŠ¶æ€

## ğŸ”— ä¸‹ä¸€æ­¥å­¦ä¹ 

- [æœåŠ¡å‘ç°å®ç°](./09.æœåŠ¡å‘ç°å®ç°.md) - å­¦ä¹ æœåŠ¡å‘ç°
- [é¢è¯•é¢˜é›†é”¦](./10.é¢è¯•é¢˜é›†é”¦.md) - å‡†å¤‡é¢è¯•
- [å®æˆ˜é¡¹ç›®](./11.å®æˆ˜é¡¹ç›®.md) - å®Œæ•´é¡¹ç›®å®è·µ

---

**è®°ä½ï¼šé…ç½®ä¸­å¿ƒæ˜¯å¾®æœåŠ¡æ¶æ„çš„æ ¸å¿ƒï¼ŒæŒæ¡å®ƒå°±èƒ½å®ç°é…ç½®çš„åŠ¨æ€ç®¡ç†ï¼** ğŸ¯
